<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Projects</title>

  <!-- Link your existing CSS -->
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  
</head>
<body class="project">
  <!-- Header/Nav -->
  <header>
    <nav>
      <a href="index.html">Home</a>
      <a href="about.html">About</a>
      <a href="education.html">Education</a>
      <a href="experience.html">Experience</a>
      <a href="project.html">Projects</a>
    </nav>
  </header>

  <!-- Social Links -->
  <div class="social-bar">
    <a class="social-link" href="https://www.facebook.com/share/16oySbzXpg/" target="_blank"><i class="fab fa-facebook-f"></i></a>
    <a class="social-link" href="mailto:rickmarcarnado@mail.com" target="_blank"><i class="fa-solid fa-envelope"></i></a>
    <a class="social-link" href="viber://chat?number=+639942812790" target="_blank"><i class="fab fa-viber"></i></a>
    <a class="social-link" href="https://l.facebook.com/l.php?u=https%3A%2F%2Fwww.instagram.com%2Furfav_makooy%3Figsh%3DMWdiN25iZ3cycWEyNg%253D%253D%26fbclid%3DIwZXh0bgNhZW0CMTAAYnJpZBEwQ3pySm5vTk1xOGthbXdiTAEeLuZLCy4kikJbHaBWJv20NRoMzy6GAccfM8jAE-qQCDfJPCCX767fwHSDLDE_aem__47ke9FOVY1D5A3_rFo4Ig&h=AT3uEPaCaJomWal_huDAp9p5xpTGYTj6brkUZVTRXPWkeXJ4SPUWwMjg-QXMhlJPksx5e9qfbzTLfDp9_IAab45ps3mOFttpSNdwLgo7p7W0_v8xZR5r1efp33iQXSWPMuIzpQ" target="_blank"><i class="fab fa-instagram"></i></a>
  </div>

  <!-- Project Cards -->
  <div class="project-container" id="projectsContainer"></div>

  <!-- Add New Project -->
  <div class="add-form">
    <h3>Add New Project</h3>
    <input type="text" id="projectTitle" placeholder="Project Title">
    <textarea id="projectDesc" rows="3" placeholder="Project Description"></textarea>
    <input type="file" id="projectImage" accept="image/*">
    <button onclick="addProject()">Add Project</button>
  </div>

  
  <script>
    const projectsContainer = document.getElementById('projectsContainer');
    let projects = JSON.parse(localStorage.getItem('projects')) || [];

    function renderProjects() {
      projectsContainer.innerHTML = '';
      projects.forEach((project, index) => {
        const card = document.createElement('div');
        card.classList.add('project-card');
        card.innerHTML = `
          ${project.image ? `<img src="${project.image}" alt="Project Image">` : ''}
          <h3 contenteditable="false">${project.title}</h3>
          <p contenteditable="false">${project.desc}</p>
          <div class="actions">
            <button class="edit-btn" onclick="editProject(${index})">Edit</button>
            <button class="save-btn" onclick="saveProject(${index})" style="display:none;">Save</button>
            <button class="delete-btn" onclick="deleteProject(${index})">Delete</button>
          </div>
        `
        projectsContainer.appendChild(card);
      });
    }

    function addProject() {
      const title = document.getElementById('projectTitle').value.trim();
      const desc = document.getElementById('projectDesc').value.trim();
      const fileInput = document.getElementById('projectImage');
      const file = fileInput.files[0];

      if (!title || !desc) {
        alert('Please fill out both title and description.');
        return;
      }

      if (file) {
        const reader = new FileReader();
        reader.onload = e => {
          projects.push({title, desc, image: e.target.result});
          saveAndRender();
        }
        reader.readAsDataURL(file);
      } else {
        projects.push({title, desc, image: null});
        saveAndRender();
      }
    }

    function editProject(index) {
      const card = projectsContainer.children[index];
      const h3 = card.querySelector('h3');
      const p = card.querySelector('p');
      const editBtn = card.querySelector('.edit-btn');
      const saveBtn = card.querySelector('.save-btn');

      h3.contentEditable = true;
      p.contentEditable = true;
      h3.focus();

      editBtn.style.display = 'none';
      saveBtn.style.display = 'inline-block';
    }

    function saveProject(index) {
      const card = projectsContainer.children[index];
      const h3 = card.querySelector('h3');
      const p = card.querySelector('p');

      projects[index].title = h3.textContent;
      projects[index].desc = p.textContent;

      saveAndRender();
    }

    function deleteProject(index) {
      if (confirm('Are you sure you want to delete this project?')) {
        projects.splice(index, 1);
        saveAndRender();
      }
    }

    function saveAndRender() {
      localStorage.setItem('projects', JSON.stringify(projects));
      renderProjects();
      document.getElementById('projectTitle').value = '';
      document.getElementById('projectDesc').value = '';
      document.getElementById('projectImage').value = '';
    }

    renderProjects();
  </script>
</body>
</html>